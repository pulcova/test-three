{% extends 'users/patient/patient_base.html' %}
{% load static %}
{% block content %}

<section class="text-gray-600 body-font overflow-hidden">
  <div class="container px-5 py-24 mx-auto">
      <div class="lg:w-4/5 mx-auto flex flex-wrap">
          <div class="lg:w-1/2 w-full lg:pr-10 lg:py-6 mb-6 lg:mb-0">
              <h2 class="text-sm title-font text-gray-500 tracking-widest">Patient</h2>
              <h1 class="text-gray-900 text-3xl title-font font-medium mb-4">{{ patient.name|default:request.user }}</h1>
              <div class="flex mb-4">
                  <a href="{% url 'patient-profile' %}" class="flex-grow border-b-2 border-gray-300 py-2 text-lg px-1">Details</a>
                  <a class="flex-grow text-indigo-500 border-b-2 border-indigo-500 py-2 text-lg px-1">Update</a>
                  <a href="{% url 'patient-delete-profile' %}" class="flex-grow border-b-2 border-gray-300 py-2 text-lg px-1">Delete</a>
              </div>
              <form method="POST" action="" enctype="multipart/form-data">
                  {% csrf_token %}
                  <div class="mb-4">
                      <label for="id_name" class="block text-gray-700 text-sm font-bold mb-2">Name:</label>
                      <input type="text" id="id_name" name="name" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500" value="{{ form.instance.name }}">
                  </div>
                  <div class="mb-4">
                      <label for="id_email" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                      <input type="email" id="id_email" name="email" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500" value="{{ form.instance.email }}">
                  </div>
                  <div class="mb-4">
                      <label for="id_phone" class="block text-gray-700 text-sm font-bold mb-2">Phone:</label>
                      <input type="text" id="id_phone" name="phone" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500" value="{{ form.instance.phone }}">
                  </div>
                  <div class="mb-4">
                      <label for="id_profile_picture" class="block text-gray-700 text-sm font-bold mb-2">Profile Picture:</label>
                      <input type="file" id="id_profile_picture" name="profile_picture" accept="image/*" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500">
                  </div>
                  <div class="mb-4">
                      <label for="id_date_of_birth" class="block text-gray-700 text-sm font-bold mb-2">Date of Birth:</label>
                      <input type="date" id="id_date_of_birth" name="date_of_birth" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500" value="{{ form.instance.date_of_birth }}">
                  </div>
                  <div class="mb-4">
                      <label for="id_gender" class="block text-gray-700 text-sm font-bold mb-2">Gender:</label>
                      <select id="id_gender" name="gender" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500">
                          <option value="" selected disabled>Select gender</option>
                          {% for key, value in form.fields.gender.choices %}
                              <option value="{{ key }}" {% if form.instance.gender == key %} selected {% endif %}>{{ value }}</option>
                          {% endfor %}
                      </select>
                  </div>
                  <div class="mb-4">
                      <label for="id_address" class="block text-gray-700 text-sm font-bold mb-2">Address:</label>
                      <textarea id="id_address" name="address" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500">{{ form.instance.address }}</textarea>
                  </div>
                  <div class="mb-4">
                      <label for="id_blood_group" class="block text-gray-700 text-sm font-bold mb-2">Blood Group:</label>
                      <input type="text" id="id_blood_group" name="blood_group" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500" value="{{ form.instance.blood_group }}">
                  </div>
                  <div class="mb-4">
                      <label for="id_weight" class="block text-gray-700 text-sm font-bold mb-2">Weight:</label>
                      <input type="number" id="id_weight" name="weight" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500" value="{{ form.instance.weight }}">
                  </div>
                  <div class="mb-4">
                      <label for="id_height" class="block text-gray-700 text-sm font-bold mb-2">Height:</label>
                      <input type="number" id="id_height" name="height" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500" value="{{ form.instance.height }}">
                  </div>
                  <div class="mb-4">
                      <label for="id_allergies" class="block text-gray-700 text-sm font-bold mb-2">Allergies:</label>
                      <textarea id="id_allergies" name="allergies" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500">{{ form.instance.allergies }}</textarea>
                  </div>
                  <div class="mb-4">
                      <label for="id_medical_history" class="block text-gray-700 text-sm font-bold mb-2">Medical History:</label>
                      <textarea id="id_medical_history" name="medical_history" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500">{{ form.instance.medical_history }}</textarea>
                  </div>
                  <div class="mb-4">
                      <label for="id_emergency_contact_name" class="block text-gray-700 text-sm font-bold mb-2">Emergency Contact Name:</label>
                      <input type="text" id="id_emergency_contact_name" name="emergency_contact_name" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500" value="{{ form.instance.emergency_contact_name }}">
                  </div>
                  <div class="mb-4">
                      <label for="id_emergency_contact_phone" class="block text-gray-700 text-sm font-bold mb-2">Emergency Contact Phone:</label>
                      <input type="text" id="id_emergency_contact_phone" name="emergency_contact_phone" class="w-full px-3 py-2 border rounded-md 
                      placeholder-gray-400 focus:outline-none focus:border-blue-500" value="{{ form.instance.emergency_contact_phone }}">
                  </div>
                  <div class="flex">
                      <button class="flex ml-auto text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded">Update</button>
                  </div>
              </form>
          </div>
          {% include 'users/patient/patient_profile_picture.html' %}
      </div>
  </div>
</section>


{% endblock %}