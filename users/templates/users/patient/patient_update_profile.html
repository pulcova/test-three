{% extends 'users/patient/patient_base.html' %}
{% load static %}
{% block content %}
<div class="flex justify-center">
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="space-y-12">
      <div class="border-b border-gray-900/10 pb-12">
        {% if request.user.patient.profile_picture %}
              <img src="{{ request.user.patient.profile_picture.url }}" alt="Profile Picture" 
                  class="w-20 h-20 rounded-full mr-4 object-cover">
          {% else %}
              <img src="{% static 'images/profile.png' %}" alt="Default Profile Picture" 
                  class="w-20 h-20 rounded-full mr-4 object-cover">
          {% endif %}
        <div class="mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
          <div class="sm:col-span-2">
            <label for="id_name" class="block text-sm font-medium leading-6 text-gray-900">Name</label>
            <div class="mt-2">
              <input type="text" name="name" id="id_name" autocomplete="name" class="block flex-1 border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6" value="{{ patient.name }}">
            </div>
          </div>

          <div class="sm:col-span-2">
            <label for="id_profile_picture" class="block text-sm font-medium leading-6 text-gray-900">Profile</label>
            <div class="mt-2">
              <input type="file" name="profile_picture" id="id_profile_picture" accept="image/*" class="block flex-1 border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6" value="{{ patient.profile_picture }}">
            </div>
          </div>

          <div class="sm:col-span-2">
            <label for="id_email" class="block text-sm font-medium leading-6 text-gray-900">Email</label>
            <div class="mt-2">
              <input type="email" name="email" id="id_email" autocomplete="email" class="block flex-1 border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6" value="{{ patient.email }}">
            </div>
          </div>

          <div class="sm:col-span-2">
            <label for="id_phone" class="block text-sm font-medium leading-6 text-gray-900">Phone</label>
            <div class="mt-2">
              <input type="tel" name="phone" id="id_phone" autocomplete="tel" class="block flex-1 border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6" value="{{ patient.phone }}">
            </div>
          </div>


          <div class="sm:col-span-2">
            <label for="id_date_of_birth" class="block text-sm font-medium leading-6 text-gray-900">Date of Birth</label>
            <div class="mt-2">
              <input type="date" name="date_of_birth" id="id_date_of_birth" class="block flex-1 border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6" value="{{ patient.date_of_birth }}">
            </div>
          </div>

          <div class="sm:col-span-2">
            <label for="gender" class="block text-sm font-medium leading-6 text-gray-900">Gender</label>
            <div class="mt-2">
                <select name="gender" id="gender" class="block flex-1 border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6">
                    <option value="M" {% if patient.gender == "M" %} selected {% endif %}>Male</option>
                    <option value="F" {% if patient.gender == "F" %} selected {% endif %}>Female</option>
                    <option value="O" {% if patient.gender == "O" %} selected {% endif %}>Other</option>
                </select>
            </div>
            </div>
        

          <div class="sm:col-span-2">
            <label for="address" class="block text-sm font-medium leading-6 text-gray-900">Address</label>
            <div class="mt-2">
              <input type="text" name="address" id="address" autocomplete="address" class="block flex-1 border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6" value="{{ patient.address }}">
            </div>
          </div>

          <div class="sm:col-span-2">
            <label for="id_blood_group" class="block text-sm font-medium leading-6 text-gray-900">Blood Group</label>
            <div class="mt-2">
              <input type="text" name="blood_group" id="id_blood_group" class="block flex-1 border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6" value="{{ patient.blood_group }}">
            </div>
          </div>

          <div class="sm:col-span-2">
            <label for="id_weight" class="block text-sm font-medium leading-6 text-gray-900">Weight (kg)</label>
            <div class="mt-2">
              <input type="number" name="weight" id="id_weight" class="block flex-1 border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6" value="{{ patient.weight }}">
            </div>
          </div>

          <div class="sm:col-span-2">
            <label for="id_height" class="block text-sm font-medium leading-6 text-gray-900">Height (cm)</label>
            <div class="mt-2">
              <input type="number" name="height" id="id_height" class="block flex-1 border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6" value="{{ patient.height }}">
            </div>
          </div>

          <div class="sm:col-span-4">
            <label for="id_allergies" class="block text-sm font-medium leading-6 text-gray-900">Allergies</label>
            <div class="mt-2">
              <textarea name="allergies" id="id_allergies" rows="3" class="block w-full border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6">{{ patient.allergies }}</textarea>
            </div>
          </div>

          <div class="sm:col-span-2">
            <label for="id_emergency_contact_name" class="block text-sm font-medium leading-6 text-gray-900">Emergency Contact Name</label>
            <div class="mt-2">
              <input type="text" name="emergency_contact_name" id="id_emergency_contact_name" class="block flex-1 border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6" value="{{ patient.emergency_contact_name }}">
            </div>
          </div>

          <div class="sm:col-span-4">
            <label for="id_medical_history" class="block text-sm font-medium leading-6 text-gray-900">Medical History</label>
            <div class="mt-2">
              <textarea name="medical_history" id="id_medical_history" rows="3" class="block w-full border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6">{{ patient.medical_history }}</textarea>
            </div>
          </div>

          <div class="sm:col-span-2">
            <label for="id_emergency_contact_phone" class="block text-sm font-medium leading-6 text-gray-900">Emergency Contact Phone</label>
            <div class="mt-2">
              <input type="tel" name="emergency_contact_phone" id="id_emergency_contact_phone" class="block flex-1 border border-gray-300 bg-white py-1.5 pl-3 pr-12 text-gray-900 placeholder:text-gray-400 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm sm:leading-6" value="{{ patient.emergency_contact_phone }}">
            </div>
          </div>

        </div>
      </div>
    </div>
  
    <div class="mt-6 flex items-center justify-end gap-x-6">
      <a href="{% url 'patient-profile' %}"><button type="button" class="text-sm font-semibold leading-6 text-gray-900">Cancel</button></a>
      <button type="submit" class="rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Save</button>
    </div>
  </form>
</div>
  

{% endblock %}
